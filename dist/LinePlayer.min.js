!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("LinePlayer",[],t):"object"==typeof exports?exports.LinePlayer=t():e.LinePlayer=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=2)}([function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={getElementViewLeft:function(e){var t=e.offsetLeft,n=e.offsetParent,i=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==n&&n!==e;)t+=n.offsetLeft,n=n.offsetParent;else for(;null!==n;)t+=n.offsetLeft,n=n.offsetParent;return t-i},fullHeight:function(e){var t=void 0===window.getComputedStyle?e.currentStyle:window.getComputedStyle(e),n=parseInt(t.marginTop),i=parseInt(t.marginBottom),r=parseInt(t.paddingTop),o=parseInt(t.paddingBottom),a=parseInt(t.borderTopWidth),l=parseInt(t.borderBottomWidth);return e.offsetHeight+(isNaN(n)?0:n)+(isNaN(i)?0:i)+(isNaN(r)?0:r)+(isNaN(o)?0:o)+(isNaN(a)?0:a)+(isNaN(l)?0:l)},getScrollPosition:function(){return{left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},setScrollPosition:function(e){var t=e.left,n=void 0===t?0:t,i=e.top,r=void 0===i?0:i;this.isFirefox?(document.documentElement.scrollLeft=n,document.documentElement.scrollTop=r):window.scrollTo(n,r)},extendArray:function(e,t){for(var n in t)t.hasOwnProperty(n)&&("object"===i(e[n])?e[n]=this.extendArray(e[n],t[n]):e[n]=t[n]);return e},currentDateTime:function(){var e=new Date;return e.toLocaleDateString()+" "+e.toLocaleTimeString()},saveAs:function(e,t){var n=document.createElement("a");"string"==typeof n.download?(n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)):window.open(e)},isMobile:/mobile/i.test(window.navigator.userAgent),isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),storage:{set:function(e,t){localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)}}}},function(e,t,n){"use strict";var i=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(i=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(e,t,n,r,o){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState){if(a.status>=200&&a.status<300||304===a.status){var e=JSON.parse(a.responseText);return r(a,e)}o(a)}},a.open(null!==n?"POST":"GET",e,!0),Object.entries(t).forEach(function(e){var t=i(e,2),n=t[0],r=t[1];a.setRequestHeader(n,r)}),a.send(null!==n?JSON.stringify(n):null)};e.exports={send:function(e,t,n,i){r(e,t,n,function(e,t){console.log("Post lineserver: ",t),i&&i()},function(e){console.log("Request was unsuccessful: "+e.status)})},read:function(e,t,n){r(e,t,null,function(e,t){n(null,t)},function(e){n({status:e.status,response:null})})}}},function(e,t,n){"use strict";console.log("\n %c LinePlayer 1.1.0-rc1 e042ab1 %c https://github.com/andresys/LinePlayer \n\n","color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;"),e.exports=n(3)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(4);var a=n(0),l=n(5),s=i(l),c=n(7),u=i(c),p=n(8),h=i(p),d=n(9),v=i(d),f=n(10),y=i(f),m=n(11),g=i(m),b=n(12),w=i(b),k=n(13),L=i(k),x=n(14),q=i(x),S=n(15),E=i(S),M=n(17),T=i(M),C=n(18),P=i(C),H=n(19),z=i(H),B=n(20),_=i(B),N=0,O=[],A=function(){function e(t){var n=this;r(this,e),this.options=(0,s.default)(t),this.tran=new u.default(this.options.lang).tran,this.icons=new v.default(this.options),this.events=new y.default,this.user=new w.default(this),this.container=this.options.container,this.servers=[],this.container.classList.add("lineplayer"),this.options.live&&this.container.classList.add("lineplayer-live"),a.isMobile&&this.container.classList.add("lineplayer-mobile"),this.arrow=this.container.offsetWidth<=500,this.arrow&&this.container.classList.add("lineplayer-arrow"),this.template=new h.default({container:this.container,options:this.options,index:N,tran:this.tran,icons:this.icons}),this.video=this.template.video,this.bar=new L.default(this),this.bezel=new q.default(this.template.bezel),this.fullScreen=new g.default(this),this.controller=new E.default(this),this.setting=new T.default(this),document.addEventListener("click",function(){n.focus=!1},!0),this.container.addEventListener("click",function(){n.focus=!0},!0),this.paused=!0,this.hotkey=new P.default(this),this.contextmenu=new z.default(this),this.initVideoEvents(this.video),["line","domination"].forEach(function(e){n.options[e]&&(n.options[e]=[n.options[e]||[]].reduce(function(e,t){return e.concat(t)},[]),n.options[e].forEach(function(t){n.servers.push(new _.default(e,{callback:function(){setTimeout(function(){n.switchVideo(0),n.options.autoplay&&!a.isMobile?n.play():a.isMobile&&n.pause()},0)},error:function(e){n.notice(e)},server:t,events:n.events}))}))}),N++,O.push(this)}return o(e,[{key:"initVideoEvents",value:function(){var e=this;this.on("error",function(){e.tran&&e.notice&&e.notice(e.tran("This video fails to load"),-1)}),this.on("play",function(){e.paused&&e.play()}),this.on("pause",function(){e.paused||e.pause()}),this.on("lineserver_load_start",function(){e.container.classList.add("lineplayer-loading")}),this.on("lineserver_load_end",function(){e.container.classList.remove("lineplayer-loading")});for(var t=0;t<this.events.videoEvents.length;t++)!function(t){e.video.addEventListener(e.events.videoEvents[t],function(){e.events.trigger(e.events.videoEvents[t])})}(t);this.options.volume?this.volume(this.user.get("volume"),!0,!0):this.video.muted=!0}},{key:"switchVideo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.servers.map(function(e){return e.cameras}).flat();if(e=Math.max(0,Math.min(n.length-1,e)),t=Math.max(0,Math.min(n[e].quality.length-1,t)),(e!=this.currentChannel||t!=this.currentQuality)&&(this.currentChannel=e,this.currentQuality=t,Hls&&Hls.isSupported())){var i=this.video.paused;i||this.pause(),this.video.poster=n[e].image,this.url=n[e].quality[t].url,this.title(n[e].name),this.controller.initQualityButton(n[e].quality,t),n.length>1&&(this.controller.initPrevButton(e>0),this.controller.initNextButton(e<n.length-1)),i||this.play()}}},{key:"play",value:function(){if(this.paused=!1,this.video.paused&&this.bezel.switch(this.icons.get("play")),Hls&&Hls.isSupported()&&(this.hls=new Hls,this.hls.loadSource(this.url),this.hls.attachMedia(this.video)),this.controller.initPlayButton("Pause","pause"),this.video.play(),this.container.classList.add("lineplayer-playing"),this.template.liveBadge.style.display="inline-block",this.options.mutex)for(var e=0;e<O.length;e++)this!==O[e]&&O[e].pause()}},{key:"pause",value:function(){if(this.paused=!0,this.video.paused||this.bezel.switch(this.icons.get("pause")),Hls&&Hls.isSupported()){var e=document.createElement("canvas");e.width=this.video.clientWidth,e.height=this.video.clientHeight,e.getContext("2d").drawImage(this.video,0,0,e.width,e.height),this.video.poster=e.toDataURL(),this.hls.stopLoad(),this.hls.detachMedia()}this.controller.initPlayButton("Play","play"),this.video.pause(),this.container.classList.remove("lineplayer-playing"),this.template.liveBadge.style.display="none"}},{key:"switchVolumeIcon",value:function(){var e=this.template.volume.querySelector(".lineplayer-icon-content");this.volume()>=.95?e.innerHTML=this.icons.get("volume-up"):this.volume()>0?e.innerHTML=this.icons.get("volume-down"):e.innerHTML=this.icons.get("volume-off")}},{key:"volume",value:function(e,t,n){return e=parseFloat(e),isNaN(e)||(e=Math.max(e,0),e=Math.min(e,1),this.bar.set("volume",e,"width"),t||this.user.set("volume",e),n||this.notice(this.tran("Volume")+" "+(100*e).toFixed(0)+"%"),this.video.volume=e,this.video.muted&&(this.video.muted=!1),this.switchVolumeIcon()),this.video.volume}},{key:"toggle",value:function(){this.video.paused?this.play():this.pause()}},{key:"on",value:function(e,t){this.events.on(e,t)}},{key:"notice",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=e,this.template.notice.style.opacity=i,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("notice_show",e),this.noticeTime=setTimeout(function(){t.template.notice.style.opacity=0,t.events.trigger("notice_hide")},n)}},{key:"title",value:function(e){this.template.title&&(this.template.title.innerHTML=e)}},{key:"resize",value:function(){this.events.trigger("resize")}},{key:"destroy",value:function(){O.splice(O.indexOf(this),1),this.pause(),this.controller.destroy(),this.video.src="",this.container.innerHTML="",this.events.trigger("destroy");for(var e in this)this.hasOwnProperty(e)&&"paused"!==e&&delete this[e]}}]),e}();e.exports=A},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(0),o=i(r),a=n(6),l=i(a);e.exports=function(e){r.isMobile&&(e.autoplay=!1);var t={container:e.element||document.getElementsByClassName("lineplayer")[0],autoplay:!1,title:!0,theme:"#b7daff",lang:(navigator.language||navigator.browserLanguage).toLowerCase(),screenshot:!0,volume:!1,hotkey:!0,icons:(0,l.default)(),iconsColor:"#ffffff",iconDisableColor:"#a0a0a0",contextmenu:[],mutex:!0};return e=o.default.extendArray(t,e),e.lang&&(e.lang=e.lang.toLowerCase()),e.logo&&document.addEventListener("DOMContentLoaded",function(){var t=e.container.querySelector(".lineplayer-logo").querySelector("img");t.onload=function(){var n=t.width,i=t.height,r=e.container.querySelector(".lineplayer-title");r&&(r.style.paddingLeft=40+n+"px",r.style.top=20+Math.round(i-o.default.fullHeight(r))/2+"px")}}),e.contextmenu=e.contextmenu.concat([{text:"About LinePlayer",link:"https://github.com/andresys/LinePlayer"}]),e}},function(e,t,n){"use strict";e.exports=function(){return{play:["0 0 16 32","M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"],pause:["0 0 17 32","M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"],prev:["0 0 32 32","m 23.539046,5.5918822 q 0.264557,-0.2645583 0.445569,-0.1810154 0.181013,0.083543 0.181013,0.445569 V 26.352588 q 0,0.362023 -0.181013,0.44557 -0.181012,0.08354 -0.445569,-0.181015 L 13.652994,16.731092 Q 13.52768,16.605777 13.471983,16.46654 v 9.440479 q 0,0.362023 -0.264554,0.62658 -0.264558,0.264559 -0.626582,0.264559 h -1.782272 q -0.362028,0 -0.626587,-0.264559 -0.264553,-0.264557 -0.264553,-0.62658 V 6.3020069 q 0,-0.3620284 0.264553,-0.626583 0.264559,-0.2645571 0.626587,-0.2645571 h 1.782272 q 0.362024,0 0.626582,0.2645571 0.264554,0.2645546 0.264554,0.626583 v 9.4404801 q 0.0557,-0.153167 0.181011,-0.264553z"],next:["0 0 32 32","M 10.534017,5.5918822 Q 10.26946,5.3273239 10.088448,5.4108668 9.907435,5.4944098 9.907435,5.8564358 V 26.352588 q 0,0.362023 0.181013,0.44557 0.181012,0.08354 0.445569,-0.181015 l 9.886052,-9.886051 q 0.125314,-0.125315 0.181011,-0.264552 v 9.440479 q 0,0.362023 0.264554,0.62658 0.264558,0.264559 0.626582,0.264559 h 1.782272 q 0.362028,0 0.626587,-0.264559 0.264553,-0.264557 0.264553,-0.62658 V 6.3020069 q 0,-0.3620284 -0.264553,-0.626583 -0.264559,-0.2645571 -0.626587,-0.2645571 h -1.782272 q -0.362024,0 -0.626582,0.2645571 -0.264554,0.2645546 -0.264554,0.626583 v 9.4404801 q -0.0557,-0.153167 -0.181011,-0.264553z"],"volume-up":["0 0 21 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"],"volume-down":["0 0 21 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"],"volume-off":["0 0 21 32","M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"],full:["0 0 32 33","M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"],setting:["0 0 32 28","M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"],right:["0 0 32 32","M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"],camera:["0 0 32 32","M16 23c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM16 13c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zM27 28h-22c-1.654 0-3-1.346-3-3v-16c0-1.654 1.346-3 3-3h3c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3c-0.551 0-1 0.449-1 1v16c0 0.552 0.449 1 1 1h22c0.552 0 1-0.448 1-1v-16c0-0.551-0.448-1-1-1h-11c-0.552 0-1-0.448-1-1s0.448-1 1-1h11c1.654 0 3 1.346 3 3v16c0 1.654-1.346 3-3 3zM24 10.5c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5zM15 4c0 0.552-0.448 1-1 1h-4c-0.552 0-1-0.448-1-1v0c0-0.552 0.448-1 1-1h4c0.552 0 1 0.448 1 1v0z"]}}},function(e,t,n){"use strict";e.exports=function(e){var t=this;this.lang=e,this.tran=function(e){return i[t.lang]&&i[t.lang][e]?i[t.lang][e]:e}};var i={ru:{"LinePlayer is loading":"LinePlayer \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f","About LinePlayer":"\u041e LinePlayer","This video fails to load":"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0432\u0438\u0434\u0435\u043e","Full screen":"\u0412\u043e \u0432\u0435\u0441\u044c \u044d\u043a\u0440\u0430\u043d",Screenshot:"\u0421\u043a\u0440\u0438\u043d\u0448\u043e\u0442",Volume:"\u0413\u0440\u043e\u043c\u043a\u043e\u0441\u0442\u044c",Live:"\u0412 \u044d\u0444\u0438\u0440\u0435",Play:"\u0412\u043e\u0437\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438",Pause:"\u041f\u0430\u0443\u0437\u0430",Prev:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0435",Next:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435","Quality change":"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0438\u0434\u0435\u043e"}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.container=t.container,this.options=t.options,this.index=t.index,this.tran=t.tran,this.icons=t.icons,this.init()}return r(e,[{key:"init",value:function(){this.container.innerHTML=this.tpl(this.options,this.index,this.tran,this.icons),this.video=this.container.querySelector(".lineplayer-video-current"),this.bezel=this.container.querySelector(".lineplayer-bezel-icon"),this.videoWrap=this.container.querySelector(".lineplayer-video-wrap"),this.controllerMask=this.container.querySelector(".lineplayer-controller-mask"),this.mask=this.container.querySelector(".lineplayer-mask"),this.controller=this.container.querySelector(".lineplayer-controller"),this.menu=this.container.querySelector(".lineplayer-menu"),this.notice=this.container.querySelector(".lineplayer-notice"),this.title=this.container.querySelector(".lineplayer-title"),this.play=this.container.querySelector(".lineplayer-play"),this.prev=this.container.querySelector(".lineplayer-prev"),this.next=this.container.querySelector(".lineplayer-next"),this.volume=this.container.querySelector(".lineplayer-volume"),this.liveBadge=this.container.querySelector(".lineplayer-live-badge"),this.quality=this.container.querySelector(".lineplayer-quality"),this.screenshot=this.container.querySelector(".lineplayer-screenshot"),this.fullScreen=this.container.querySelector(".lineplayer-full")}},{key:"tpl",value:function(e,t,n){return'<div class="lineplayer-mask"></div><div class="lineplayer-video-wrap">'+this.tplVideo(!0,void 0,e.screenshot,void 0)+(e.title?'<div class="lineplayer-title"></div>':"")+(e.logo?'<div class="lineplayer-logo"><img src="'+e.logo+'"></div>':"")+'<div class="lineplayer-bezel"><span class="lineplayer-bezel-icon"></span><span class="lineplayer-danloading">'+n("LinePlayer is loading")+'</span><span class="lineplayer-loading-icon"><svg height="100%" version="1.1" viewBox="0 0 22 22" width="100%"><svg x="7" y="1"><circle class="lineplayer-loading-dot lineplayer-loading-dot-0" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="3"><circle class="lineplayer-loading-dot lineplayer-loading-dot-1" cx="4" cy="4" r="2"></circle></svg><svg x="13" y="7"><circle class="lineplayer-loading-dot lineplayer-loading-dot-2" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="11"><circle class="lineplayer-loading-dot lineplayer-loading-dot-3" cx="4" cy="4" r="2"></circle></svg><svg x="7" y="13"><circle class="lineplayer-loading-dot lineplayer-loading-dot-4" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="11"><circle class="lineplayer-loading-dot lineplayer-loading-dot-5" cx="4" cy="4" r="2"></circle></svg><svg x="1" y="7"><circle class="lineplayer-loading-dot lineplayer-loading-dot-6" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="3"><circle class="lineplayer-loading-dot lineplayer-loading-dot-7" cx="4" cy="4" r="2"></circle></svg></svg></span></div></div><div class="lineplayer-controller-mask"></div><div class="lineplayer-controller"><ul class="lineplayer-icons lineplayer-icons-left"><li class="lineplayer-play"></li><li class="lineplayer-prev"></li><li class="lineplayer-next"></li><li class="lineplayer-volume"></li><li class="lineplayer-live"><span class="lineplayer-live-badge"><span class="lineplayer-live-dot" style="background: '+e.theme+';"></span>'+n("Live")+'</span></li></ul><ul class="lineplayer-icons lineplayer-icons-right"><li class="lineplayer-quality"></li><li class="lineplayer-screenshot"></li><li class="lineplayer-full"></li></ul></div>'+this.tplContextmenuList(e.contextmenu)+'<div class="lineplayer-notice"></div>'}},{key:"tplContextmenuList",value:function(e){for(var t='<div class="lineplayer-menu">',n=0;n<e.length;n++)t+='<div class="lineplayer-menu-item"><a target="_blank" href="'+e[n].link+'">'+this.tran(e[n].text)+"</a></div>";return t+="</div>"}},{key:"tplButton",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e("tplHint",null)};return'<button class="lineplayer-icon'+(i?" disable":"")+'"><span class="lineplayer-icon-content">'+this.icons.get(t,i)+"</span></button>"+function(i){return i?r(function(i,r){return i&&"[object Function]"==={}.toString.call(n[i])?n[i](e,t,r):n.tplHint(e,t)}):""}(!i)}},{key:"tplCameraPreview",value:function(e,t,n){var i=n.image,r=n.description;return'<div class="lineplayer-button-mask"><div class="lineplayer-button-panel lineplayer-button-'+t+'-panel"><span>'+this.tran(e)+"</span>"+(i?'<img src="'+i+'" alt="'+this.tran(e)+'"/>':"")+"<span>"+r+"</span></div></div>"}},{key:"tplVolume",value:function(){return'<div class="lineplayer-volume-bar-wrap" data-balloon-pos="up"><div class="lineplayer-volume-bar"><div class="lineplayer-volume-bar-inner" style="background: '+this.options.theme+';"><span class="lineplayer-thumb" style="background: '+this.options.theme+'"></span></div></div></div>'}},{key:"tplQuality",value:function(e,t,n){for(var i=n.list,r='<div class="lineplayer-button-panel">',o=0;o<i.length;o++)r+='<div class="lineplayer-quality-item" data-index="'+o+'">'+i[o].name+"</div>";return'<div class="lineplayer-button-mask">'+(r+="</div>")+"</div>"}},{key:"tplHint",value:function(e,t){return'<div class="lineplayer-button-mask"><div class="lineplayer-button-panel lineplayer-button-'+t+'-panel"><span>'+this.tran(e)+"</span></div></div>"}},{key:"tplVideo",value:function(e,t,n,i){return'<video class="lineplayer-video '+(e?'lineplayer-video-current"':"")+'" '+(t?'poster="'+t+'"':"")+" webkit-playsinline playsinline "+(n?'crossorigin="anonymous"':"")+' src="'+i+'"></video>'}}]),e}();e.exports=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.icons=t.icons,this.iconColor=t.iconsColor,this.iconDisableColor=t.iconDisableColor}return r(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.icons[e]?'<svg xmlns="http://www.w3.org/2000/svg" width="'+(this.icons[e][2]||"100%")+'" height="'+(this.icons[e][2]||"100%")+'" version="1.1" viewBox="'+this.icons[e][0]+'"><path class="lineplayer-fill" style="fill:'+(t?this.iconDisableColor:this.iconColor)+'" d="'+this.icons[e][1]+'" id="lineplayer-'+e+'"></path></svg>':e}}]),e}();e.exports=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this.events={},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["screenshot","thumbnails_show","thumbnails_hide","contextmenu_show","contextmenu_hide","notice_show","notice_hide","quality_start","quality_end","destroy","resize","fullscreen","fullscreen_cancel"],this.serverEvents=["lineserver_load_start","lineserver_load_end"]}return r(e,[{key:"on",value:function(e,t){this.type(e)&&"function"==typeof t&&(this.events[e]||(this.events[e]=[]),this.events[e].push(t))}},{key:"trigger",value:function(e,t){if(this.events[e]&&this.events[e].length)for(var n=0;n<this.events[e].length;n++)this.events[e][n](t)}},{key:"type",value:function(e){return-1!==this.playerEvents.indexOf(e)?"player":-1!==this.videoEvents.indexOf(e)?"video":-1!==this.serverEvents.indexOf(e)?"server":(console.error("Unknown event name: "+e),null)}}]),e}();e.exports=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(){function e(t){var n=this;i(this,e),this.player=t;var r=function(){n.player.resize(),n.isFullScreen()?n.player.events.trigger("fullscreen"):(a.default.setScrollPosition(n.lastScrollPosition),n.player.events.trigger("fullscreen_cancel"))};this.player.container.addEventListener("fullscreenchange",r),this.player.container.addEventListener("mozfullscreenchange",r),this.player.container.addEventListener("webkitfullscreenchange",r)}return r(e,[{key:"isFullScreen",value:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement}},{key:"request",value:function(){this.lastScrollPosition=a.default.getScrollPosition(),this.player.container.requestFullscreen?this.player.container.requestFullscreen():this.player.container.mozRequestFullScreen?this.player.container.mozRequestFullScreen():this.player.container.webkitRequestFullscreen?this.player.container.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen&&this.player.video.webkitEnterFullscreen(),this.cancel()}},{key:"cancel",value:function(){document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()}},{key:"toggle",value:function(){this.isFullScreen()?this.cancel():this.request()}}]),e}();e.exports=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(){function e(t){i(this,e),this.storageName={volume:"lineplayer-volume"},this.default={volume:t.options.volume||.7},this.data={},this.init()}return r(e,[{key:"init",value:function(){for(var e in this.storageName){var t=this.storageName[e];this.data[e]=parseFloat(a.default.storage.get(t)||this.default[e])}}},{key:"get",value:function(e){return this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t,a.default.storage.set(this.storageName[e],t)}}]),e}();e.exports=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.player=t,this.elements={}}return r(e,[{key:"add",value:function(e,t){this.elements[e]=t}},{key:"set",value:function(e,t,n){t=Math.max(t,0),t=Math.min(t,1),this.elements[e].style[n]=100*t+"%"}},{key:"get",value:function(e){return parseFloat(this.elements[e].style.width)/100}}]),e}();e.exports=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=this;i(this,e),this.container=t,this.container.addEventListener("animationend",function(){n.container.classList.remove("lineplayer-bezel-transition")})}return r(e,[{key:"switch",value:function(e){this.container.innerHTML=e,this.container.classList.add("lineplayer-bezel-transition")}}]),e}();e.exports=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=function(){function e(t){var n=this;i(this,e),this.player=t,this.autoHideTimer=0,o.isMobile?(this.player.template.videoWrap.addEventListener("click",function(){n.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){n.toggle()})):(this.player.container.addEventListener("mousemove",function(){n.setAutoHide()}),this.player.container.addEventListener("click",function(){n.setAutoHide()}),this.player.template.controller.addEventListener("mouseenter",function(){n.disableAutoHide=!0}),this.player.template.controller.addEventListener("mouseleave",function(){n.disableAutoHide=!1}),this.player.template.controllerMask.addEventListener("mouseenter",function(){n.disableAutoHide=!0}),this.player.template.controllerMask.addEventListener("mouseleave",function(){n.disableAutoHide=!1}),this.player.template.mask.addEventListener("mouseenter",function(){n.disableAutoHide=!0}),this.player.template.videoWrap.addEventListener("click",function(){n.player.toggle()}),this.player.template.controllerMask.addEventListener("click",function(){n.player.toggle()})),this.initPlayButton(),this.initVolumeButton(),this.initScreenshotButton(),this.initFullButton()}return r(e,[{key:"initPlayButton",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Play",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"play";this.player.template.play.innerHTML=this.player.template.tplButton(t,n),this.player.template.play.querySelector("button").addEventListener("click",function(){e.player.toggle()})}},{key:"initPrevButton",value:function(e){var t=this,n=this.player.servers.map(function(e){return e.cameras}).flat();if(this.player.template.prev.innerHTML=this.player.template.tplButton("Prev","prev",!e,function(e){return e("tplCameraPreview",{image:n[t.player.currentChannel-1].image,description:n[t.player.currentChannel-1].name})}),e){this.player.template.prev.querySelector("button").addEventListener("click",function(){t.player.switchVideo(t.player.currentChannel-1,t.player.currentQuality)})}}},{key:"initNextButton",value:function(e){var t=this,n=this.player.servers.map(function(e){return e.cameras}).flat();if(this.player.template.next.innerHTML=this.player.template.tplButton("Next","next",!e,function(e){return e("tplCameraPreview",{image:n[t.player.currentChannel+1].image,description:n[t.player.currentChannel+1].name})}),e){this.player.template.next.querySelector("button").addEventListener("click",function(){t.player.switchVideo(t.player.currentChannel+1,t.player.currentQuality)})}}},{key:"initVolumeButton",value:function(){var e=this;if(this.player.template.volume.innerHTML="",this.player.options.volume){this.player.template.volume.innerHTML=this.player.template.tplButton("Volume","volume-down",!1,function(e){return e("tplVolume")});var t=this.player.template.volume.querySelector(".lineplayer-volume-bar-inner"),n=this.player.template.volume.querySelector(".lineplayer-volume-bar"),i=this.player.template.volume.querySelector(".lineplayer-volume-bar-wrap"),r=this.player.template.volume.querySelector(".lineplayer-icon-content");this.player.bar.add("volume",t);var o=function(t){var i=t||window.event,r=(i.clientX-a.default.getElementViewLeft(n)-5.5)/35;e.player.volume(r,!1,!0)},l=function t(){document.removeEventListener("mouseup",t),document.removeEventListener("mousemove",o),e.player.template.volume.classList.remove("lineplayer-volume-active")};i.addEventListener("click",function(t){var i=t||window.event,r=(i.clientX-a.default.getElementViewLeft(n)-5.5)/35;e.player.volume(r,!1,!0)}),i.addEventListener("mousedown",function(){document.addEventListener("mousemove",o),document.addEventListener("mouseup",l),e.player.template.volume.classList.add("lineplayer-volume-active")});this.player.template.volume.querySelector("button").addEventListener("click",function(){e.player.video.muted?(e.player.video.muted=!1,e.player.switchVolumeIcon(),e.player.bar.set("volume",e.player.volume(),"width")):(e.player.video.muted=!0,r.innerHTML=e.player.icons.get("volume-off"),e.player.bar.set("volume",0,"width"))})}}},{key:"initQualityButton",value:function(e,t){var n=this;if(this.player.template.quality.innerHTML="",e.length>1){this.player.template.quality.innerHTML=this.player.template.tplButton("Quality change",e[t].name,!1,function(n){return n("tplQuality",{list:e,current:t})});var i=this.player.template.quality.querySelector(".lineplayer-button-panel");i&&i.addEventListener("click",function(e){e.target.classList.contains("lineplayer-quality-item")&&n.player.switchVideo(n.player.currentChannel,parseInt(e.target.dataset.index))})}}},{key:"initScreenshotButton",value:function(){var e=this;if(this.player.options.screenshot){this.player.template.screenshot.innerHTML=this.player.template.tplButton("Screenshot","camera");this.player.template.screenshot.querySelector("button").addEventListener("click",function(t){t.preventDefault();var i=document.createElement("canvas");i.width=e.player.video.videoWidth,i.height=e.player.video.videoHeight,i.getContext("2d").drawImage(e.player.video,0,0,i.width,i.height);var r=i.toDataURL("image/png"),o=(e.player.template.title&&e.player.template.title.innerHTML||"LinePlayer")+" - "+a.default.currentDateTime()+".png";n(16)(r,o,"image/png"),e.player.events.trigger("screenshot",r)})}}},{key:"initFullButton",value:function(){var e=this;this.player.template.fullScreen.innerHTML=this.player.template.tplButton("Full screen","full"),this.player.template.fullScreen.querySelector("button").addEventListener("click",function(){e.player.fullScreen.toggle()})}},{key:"setAutoHide",value:function(){var e=this;this.show(),clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout(function(){e.player.video.paused||e.disableAutoHide||e.hide()},2e3)}},{key:"show",value:function(){this.player.container.classList.remove("lineplayer-hide-controller")}},{key:"hide",value:function(){this.player.container.classList.add("lineplayer-hide-controller")}},{key:"isShow",value:function(){return!this.player.container.classList.contains("lineplayer-hide-controller")}},{key:"toggle",value:function(){this.isShow()?this.hide():this.show()}},{key:"destroy",value:function(){clearTimeout(this.autoHideTimer)}}]),e}();e.exports=l},function(e,t,n){"use strict";var i,r,o;"function"==typeof Symbol&&Symbol.iterator;!function(n,a){r=[],i=a,void 0!==(o="function"==typeof i?i.apply(t,r):i)&&(e.exports=o)}(0,function(){return function e(t,n,i){function r(e){var t=e.split(/[:;,]/),n=t[1],i="base64"==t[2]?atob:decodeURIComponent,r=i(t.pop()),o=r.length,a=0,l=new Uint8Array(o);for(a;a<o;++a)l[a]=r.charCodeAt(a);return new f([l],{type:n})}function o(e,t){if("download"in d)return d.href=e,d.setAttribute("download",y),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout(function(){d.click(),document.body.removeChild(d),!0===t&&setTimeout(function(){s.URL.revokeObjectURL(d.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,c)),window.open(e)||confirm("Displaying New DocumentUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,c)),n.src=e,setTimeout(function(){document.body.removeChild(n)},333)}var a,l,s=window,c="application/octet-stream",u=i||c,p=t,h=!n&&!i&&p,d=document.createElement("a"),v=function(e){return String(e)},f=s.Blob||s.MozBlob||s.WebKitBlob||v,y=n||"download";if(f=f.call?f.bind(s):Blob,"true"===String(this)&&(p=[p,u],u=p[0],p=p[1]),h&&h.length<2048&&(y=h.split("/").pop().split("?")[0],d.href=h,-1!==d.href.indexOf(h))){var m=new XMLHttpRequest;return m.open("GET",h,!0),m.responseType="blob",m.onload=function(t){e(t.target.response,y,c)},setTimeout(function(){m.send()},0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(p)){if(!(p.length>2096103.424&&f!==v))return navigator.msSaveBlob?navigator.msSaveBlob(r(p),y):o(p);p=r(p),u=p.type||c}else if(/([\x80-\xff])/.test(p)){var g=0,b=new Uint8Array(p.length),w=b.length;for(g;g<w;++g)b[g]=p.charCodeAt(g);p=new f([b],{type:u})}if(a=p instanceof f?p:new f([p],{type:u}),navigator.msSaveBlob)return navigator.msSaveBlob(a,y);if(s.URL)o(s.URL.createObjectURL(a),!0);else{if("string"==typeof a||a.constructor===v)try{return o("data:"+u+";base64,"+s.btoa(a))}catch(e){return o("data:"+u+","+encodeURIComponent(a))}l=new FileReader,l.onload=function(e){o(this.result)},l.readAsDataURL(a)}return!0}})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=this;i(this,e),this.player=t,this.player.template.mask.addEventListener("click",function(){n.hide()})}return r(e,[{key:"hide",value:function(){this.player.template.mask.classList.remove("lineplayer-mask-show"),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.mask.classList.add("lineplayer-mask-show"),this.player.controller.disableAutoHide=!0}}]),e}();e.exports=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function e(t){i(this,e),t.options.hotkey&&document.addEventListener("keydown",function(e){if(t.focus){var n=document.activeElement.tagName.toUpperCase(),i=document.activeElement.getAttribute("contenteditable");if("INPUT"!==n&&"TEXTAREA"!==n&&""!==i&&"true"!==i){var r=e||window.event,o=void 0;switch(r.keyCode){case 32:r.preventDefault(),t.toggle();break;case 38:r.preventDefault(),o=t.volume()+.1,t.volume(o);break;case 40:r.preventDefault(),o=t.volume()-.1,t.volume(o)}}}}),document.addEventListener("keydown",function(e){switch((e||window.event).keyCode){case 27:t.fullScreen.isFullScreen("web")&&t.fullScreen.cancel("web")}})};e.exports=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=this;i(this,e),this.player=t,this.player.container.addEventListener("contextmenu",function(e){var t=e||window.event;t.preventDefault();var i=n.player.container.getBoundingClientRect();n.show(t.clientX-i.left,t.clientY-i.top),n.player.template.mask.addEventListener("click",function(){n.hide()})})}return r(e,[{key:"show",value:function(e,t){this.player.template.menu.classList.add("lineplayer-menu-show");var n=this.player.container.getBoundingClientRect();e+this.player.template.menu.offsetWidth>=n.width?(this.player.template.menu.style.right=n.width-e+"px",this.player.template.menu.style.left="initial"):(this.player.template.menu.style.left=e+"px",this.player.template.menu.style.right="initial"),t+this.player.template.menu.offsetHeight>=n.height?(this.player.template.menu.style.bottom=n.height-t+"px",this.player.template.menu.style.top="initial"):(this.player.template.menu.style.top=t+"px",this.player.template.menu.style.bottom="initial"),this.player.template.mask.classList.add("lineplayer-mask-show"),this.player.events.trigger("contextmenu_show")}},{key:"hide",value:function(){this.player.template.mask.classList.remove("lineplayer-mask-show"),this.player.template.menu.classList.remove("lineplayer-menu-show"),this.player.events.trigger("contextmenu_hide")}}]),e}();e.exports=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(21),a=i(o),l=n(22),s=i(l),c=function e(t,n){switch(r(this,e),t){case"line":return new a.default(n);case"domination":return new s.default(n)}};e.exports=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),l=n(1),s=function(){function e(t){i(this,e),this.options=t,this.cameras=[],this.showing=!0,this.events=this.options.events,this.load()}return r(e,[{key:"load",value:function(){var e=this,t=this.makeurl(),n=this.makeheaders();this.events&&this.events.trigger("lineserver_load_start"),l.read(t,n,function(t,n){if(t)t.response?e.options.error(t.response.msg):e.options.error("Request was unsuccessful: "+t.status);else{var i=[e.options.server.channels||[]].reduce(function(e,t){return e.concat(t)},[]);e.cameras=[].concat.apply([],n).map(function(t){if(0==i.length||i.indexOf(parseInt(/cameras\/(\d+)/i.exec(t.uri)[1]))>=0)return{name:t.name,image:e.makeurl(t["image-uri"]),quality:[{name:"HD",url:e.makeurl(t["streaming-uri"]+"/main.m3u8")},{name:"SD",url:e.makeurl(t["streaming-uri"]+"/sub.m3u8")}]}}).filter(function(e){return e}),e.options.callback(),e.events&&e.events.trigger("lineserver_load_end")}})}},{key:"makeurl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/cameras",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=""+(this.options.server.proto||"//")+this.options.server.host+(this.options.server.port?":"+this.options.server.port:""),i=a.default.extendArray({authorization:"Basic "+btoa(this.options.server.user+":"+this.options.server.password)},t),r=[];for(var o in i)i.hasOwnProperty(o)&&r.push(o+"="+encodeURIComponent(i[o]));return""+n+e+"?"+r.join("&")}},{key:"makeheaders",value:function(){return{}}}]),e}();e.exports=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(1),a=function(){function e(t){i(this,e),this.options=t,this.cameras=[],this.showing=!0,this.events=this.options.events,this.load()}return r(e,[{key:"load",value:function(){var e=this,t=this.makeurl(),n=this.makeheaders();this.events&&this.events.trigger("lineserver_load_start"),o.read(t,n,function(t,n){if(t)t.response?e.options.error(t.response.msg):e.options.error("Request was unsuccessful: "+t.status);else{var i=[e.options.server.channels||[]].reduce(function(e,t){return e.concat(t)},[]);e.cameras=[].concat.apply([],n).map(function(t,n){if(0==i.length||i.indexOf(n)>=0)return{name:t.name,quality:[{name:"HD",url:e.makeurl("/api/hls/playlist",{src:t.marker,stream:0,onlyKeyFrames:!1})},{name:"SD",url:e.makeurl("/api/hls/playlist",{src:t.marker,stream:1,onlyKeyFrames:!1})}]}}).filter(function(e){return e}),e.options.callback(),e.events&&e.events.trigger("lineserver_load_end")}})}},{key:"makeurl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/api/channels",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];for(var i in t)t.hasOwnProperty(i)&&n.push(i+"="+encodeURIComponent(t[i]));return""+(this.options.server.proto||"//")+this.options.server.host+(this.options.server.port?":"+this.options.server.port:"")+e+"?"+n.join("&")}},{key:"makeheaders",value:function(){return{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoid2ViIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9yb2xlIjoiVXNlciIsIm5iZiI6MTY1NDY3MTk3NywiZXhwIjoxNjU1Mjc2Nzc3LCJpYXQiOjE2NTQ2NzE5NzcsImlzcyI6IkRvbWluYXRpb24iLCJhdWQiOiJEb21pbmF0aW9uIFdlYiBDbGllbnQifQ.PAvUG9SH38tYB3XJFUdm4NlvKvJsZKtUhjQGrXSdDjw"}}}]),e}();e.exports=a}])});
//# sourceMappingURL=LinePlayer.min.js.map